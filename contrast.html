<!DOCTYPE html>
<html lang="en">
<head>
  <!-- Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=G-TSHYRZVZ97"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date()); gtag('config', 'G-TSHYRZVZ97');
  </script>

  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Strickland Isn’t Working. Arafat Will. — Adam Neil Arafat for Congress</title>
  <meta name="theme-color" content="#0d3b66" />
  <meta name="description" content="Clear, sourced differences between Adam Neil Arafat and the incumbent. Four out of five dollars backing the incumbent come from outside WA-10. Adam won’t take corporate PAC money." />

  <!-- Open Graph -->
  <meta property="og:title" content="Strickland Isn’t Working. Arafat Will." />
  <meta property="og:description" content="Clear, sourced differences. Four out of five dollars backing the incumbent come from outside WA-10. Adam won’t take corporate PAC money." />
  <meta property="og:type" content="website" />
  <meta property="og:image" content="images/IMG_4323.jpeg" />

  <!-- Bootstrap + Icons -->
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet" />
  <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css" rel="stylesheet" />

  <style>
    :root { --primary:#0d3b66; --donate:#c1121f; --accent:#0b6e4f; --link:#0d3b66; }

    body { font-family: system-ui, -apple-system, Segoe UI, Roboto, Ubuntu, Arial; }

    /* Social top bar */
    .social-top {
      background: linear-gradient(90deg, #0d3b66 0%, #0b6e4f 50%, #0d3b66 100%);
      color: #fff;
    }
    .social-pill {
      display:inline-flex; align-items:center; gap:.5rem; padding:.5rem .9rem;
      border-radius:999px; border:1px solid rgba(255,255,255,.25); color:#fff; text-decoration:none;
      background: rgba(255,255,255,.08); backdrop-filter: blur(4px);
      transition: transform .08s ease, background .15s ease, box-shadow .15s ease;
    }
    .social-pill:hover { transform: translateY(-1px); background: rgba(255,255,255,.16); box-shadow: 0 6px 16px rgba(0,0,0,.15); color:#fff; }
    .bsky-icon { width:18px; height:18px; vertical-align:-2px; }

    /* Header break */
    .header-break { background:#0d3b66; color:#fff; text-align:center; padding:.75rem 1rem; font-weight:700; }

    /* Navbar */
    .navbar .nav-link {
      position: relative; padding: .25rem .5rem; color: #1c2b3a; font-weight: 600;
    }
    .navbar .nav-link:hover { color: var(--link); }
    .navbar .nav-link::after {
      content:""; position:absolute; left:0; bottom:-4px; height:2px; width:0; background: currentColor; border-radius:2px; transition: width .18s ease;
    }
    .navbar .nav-link:hover::after, .navbar .nav-link:focus::after, .navbar .nav-link[aria-current="page"]::after { width:100%; }
    .navbar .btn-donate { background: var(--donate); color:#fff; border:none; border-radius:999px; padding:.45rem .9rem; }
    .navbar .btn-donate:hover { filter: brightness(.95); }

    /* Section titles */
    .section-kicker { letter-spacing:.08em; font-weight:800; color:#0b6e4f; font-size:.8rem; text-transform:uppercase; }
    .section-title { color: var(--primary); }

    /* By the numbers */
    .meter { height:14px; background:#eef2f6; border-radius:10px; overflow:hidden; }
    .meter > span { display:block; height:100%; background:linear-gradient(90deg,#0b6e4f,#0d3b66); }
    .stat-chip { display:inline-flex; align-items:center; gap:.5rem; border:1px solid #e5ecf3; padding:.4rem .6rem; border-radius:999px; background:#fff; font-weight:600; }
    .tiny { font-size:.85rem; color:#6b7280; }

    /* Comparison grid */
    .compare-card {
      border:1px solid #e9eef3; border-radius:14px; padding:1rem; height:100%;
      box-shadow:0 6px 16px rgba(13,59,102,.06);
    }
    .compare-row { display:grid; grid-template-columns: 1fr; gap:.6rem; }
    @media (min-width: 768px) {
      .compare-row { grid-template-columns: 1fr 1fr; }
    }
    .good { color:#0b6e4f; font-weight:700; }
    .warn { color:#b11e2d; font-weight:700; }
    .proof { margin:.15rem 0 0; color:#475569; font-size:.95rem; }

    /* Footer links underline */
    footer a {
      position:relative; color:#1c2b3a; text-decoration:none; font-weight:600;
    }
    footer a:hover { color: var(--link); }
    footer a::after {
      content:""; position:absolute; left:0; bottom:-4px; height:2px; width:0;
      background: currentColor; border-radius:2px; transition: width .18s ease;
    }
    footer a:hover::after, footer a:focus::after { width:100%; }

    /* Sticky mobile donate */
    .sticky-donate {
      position: fixed; bottom: 16px; right: 16px; z-index: 1030;
      display: none;
    }
    @media (max-width: 576px) {
      .sticky-donate { display: block; }
    }
  </style>
</head>
<body>

<!-- SOCIAL BAR -->
<section class="social-top py-2">
  <div class="container d-flex flex-wrap justify-content-center gap-2">
    <a class="social-pill" href="https://www.reddit.com/u/adam_neil_arafat/s/HkHlNPDrbo" target="_blank" rel="noopener" aria-label="Follow Adam on Reddit">
      <i class="fa-brands fa-reddit-alien"></i> <span>Reddit</span>
    </a>
    <a class="social-pill" href="https://bsky.app/profile/adamneila.bsky.social" target="_blank" rel="noopener" aria-label="Follow Adam on Bluesky">
      <svg class="bsky-icon" viewBox="0 0 600 600" aria-hidden="true"><path fill="#fff" d="M300 352c-48-68-151-157-214-193-23-13-53-21-77-21 0 104 29 170 95 236 49 49 120 81 196 81s147-32 196-81c66-66 95-132 95-236-24 0-54 8-77 21-63 36-166 125-214 193z"/></svg>
      <span>Bluesky</span>
    </a>
    <a class="social-pill" href="https://www.tiktok.com/@adam.arafat.for.wa8?_t=ZT-8yve7Bzjrd0&_r=1" target="_blank" rel="noopener" aria-label="Follow Adam on TikTok">
      <i class="fa-brands fa-tiktok"></i> <span>TikTok</span>
    </a>
  </div>
</section>

<div class="header-break">
  Strickland isn’t working. Arafat will.
</div>

<!-- NAV -->
<nav class="navbar navbar-expand-lg bg-white border-bottom sticky-top">
  <div class="container">
    <a class="navbar-brand fw-bold" href="index.html">Adam Neil Arafat</a>
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navMenu">
      <span class="navbar-toggler-icon"></span>
    </button>
    <div class="collapse navbar-collapse" id="navMenu">
      <ul class="navbar-nav ms-auto align-items-lg-center">
        <li class="nav-item"><a class="nav-link" href="digging-into-the-issues.html">Digging Into The Issues</a></li>
        <li class="nav-item"><a class="nav-link" aria-current="page" href="contrast.html">What Sets Me Apart</a></li>
        <li class="nav-item"><a class="nav-link" href="contact.html">Contact</a></li>
        <li class="nav-item ms-lg-2">
          <a class="btn btn-donate btn-sm" href="https://secure.actblue.com/donate/adam-arafat-1" target="_blank" rel="noopener">Donate</a>
        </li>
      </ul>
    </div>
  </div>
</nav>

<!-- WHY IT MATTERS (short, top) -->
<section class="py-5 border-bottom">
  <div class="container">
    <div class="section-kicker">Why it matters</div>
    <h1 class="section-title h3 mt-1 mb-3">Choose a representative who is accountable to WA-10</h1>
    <p class="lead mb-2">
      I live in WA-10 and my kids go to school here. You deserve a representative funded by neighbors, not national lobby networks.
    </p>
    <p class="mb-0 tiny">
      Note: All contributions mentioned are lawful and do not prove quid pro quo. This page highlights alignment and incentives. <a href="#sources">See sources and methods</a>.
    </p>
  </div>
</section>

<!-- BY THE NUMBERS -->
<section class="py-5 border-bottom">
  <div class="container">
    <div class="section-kicker">By the numbers</div>
    <h2 class="section-title h4 mt-1 mb-4">Who funds the incumbent</h2>

    <div class="row g-4">
      <div class="col-lg-7">
        <div class="p-3 border rounded-3">
          <div class="d-flex justify-content-between align-items-center mb-1">
            <strong>In-district vs out-of-district dollars</strong>
            <span class="stat-chip"><span id="pctOut">—</span> outside WA-10</span>
          </div>
          <div class="meter mb-2" aria-label="Funding split meter">
            <span id="splitBar" style="width:0%;"></span>
          </div>
          <div class="tiny">
            Method: WA-10 proxy uses ZIP prefixes <strong>984</strong> and <strong>985</strong>. This slightly undercounts or overcounts at the edges but gives a fair picture.
          </div>
        </div>

        <div class="p-3 border rounded-3 mt-3">
          <strong>Where outside dollars cluster</strong>
          <ul class="mb-0 mt-2 tiny" id="topStates">
            <li>Loading…</li>
          </ul>
        </div>
      </div>

      <div class="col-lg-5">
        <div class="p-3 border rounded-3 h-100">
          <strong>Inside WA-10: who gives</strong>
          <ul class="mb-0 mt-2">
            <li><span id="inIndiv">—</span> from Individuals</li>
            <li><span id="inCommittees">—</span> from Committees (PAC/party)</li>
          </ul>
          <p class="tiny mt-2 mb-0">
            Committees include PACs and party committees. Corporate PACs are PACs funded by employees/shareholders of a corporation.
          </p>
        </div>
      </div>
    </div>

    <div class="mt-3 tiny">
      CSV: <code>assets/csv/incumbent_donors_full.csv</code>. You can replace with the latest FEC “Schedule A” export to update the numbers.
    </div>
  </div>
</section>

<!-- COMPARISON GRID -->
<section class="py-5 border-bottom">
  <div class="container">
    <div class="section-kicker">Side by side</div>
    <h2 class="section-title h4 mt-1 mb-4">Adam vs the incumbent</h2>

    <div class="compare-card">
      <div class="compare-row">
        <!-- Adam side -->
        <div>
          <div class="good"><i class="fa-solid fa-check"></i> No corporate PAC money</div>
          <p class="proof">I refuse corporate PAC and lobbyist contributions. Accountability starts with funding.</p>

          <div class="good mt-3"><i class="fa-solid fa-check"></i> Live and raise my family in WA-10</div>
          <p class="proof">I live in the district and my kids attend local public schools.</p>

          <div class="good mt-3"><i class="fa-solid fa-check"></i> Universal healthcare, lower costs</div>
          <p class="proof">Back universal coverage, drug price negotiation, faster housing permits, fair markets.</p>
        </div>

        <!-- Incumbent side -->
        <div>
          <div class="warn"><i class="fa-solid fa-xmark"></i> Heavy dependence on national networks</div>
          <p class="proof">Four out of five dollars come from outside WA-10. Source: FEC Schedule A analysis in this page.</p>

          <div class="warn mt-3"><i class="fa-solid fa-xmark"></i> Serious PAC reliance</div>
          <p class="proof">Corporate and other PACs are a significant share of her funding. See Sources for FEC links.</p>

          <div class="warn mt-3"><i class="fa-solid fa-xmark"></i> Status quo on healthcare and cost of living</div>
          <p class="proof">Backs existing frameworks that leave many families behind. See voting and issue summaries in Sources.</p>
        </div>
      </div>
    </div>

    <p class="tiny mt-3 mb-0">
      Notes: AIPAC totals are commonly cited as PACs plus bundled individual donations connected to the network. All contributions are lawful; the issue is alignment and incentives.
    </p>
  </div>
</section>

<!-- CALL TO ACTION -->
<section class="py-5">
  <div class="container text-center">
    <h3 class="h5 section-title mb-2">This seat belongs to WA-10</h3>
    <p class="mb-3">If you agree we should put neighbors before lobbyists, join us and help spread the word.</p>
    <a class="btn btn-donate btn-lg" href="https://secure.actblue.com/donate/adam-arafat-1" target="_blank" rel="noopener">
      <i class="fa-solid fa-heart me-1"></i> Donate
    </a>
  </div>
</section>

<!-- SOURCES & METHODS -->
<section id="sources" class="py-5 border-top">
  <div class="container">
    <div class="section-kicker">Sources & methodology</div>
    <h2 class="section-title h5 mt-1 mb-3">Check our work</h2>
    <ul class="small">
      <li>Federal Election Commission Candidate Page (Financials & CSV downloads): 
        <a href="https://www.fec.gov/data/candidate/H0WA10091" target="_blank" rel="noopener">Incumbent Financial Summary</a>.
      </li>
      <li>CSV methodology: this page uses FEC Schedule A “Receipts” CSV. In-district is approximated by ZIP prefixes 984 and 985 for WA-10. Committee receipts are treated as PAC/party. We will publish processing notes alongside CSV releases.</li>
      <li>Public financing example for context: 
        <a href="https://www.seattle.gov/democracyvoucher" target="_blank" rel="noopener">Seattle Democracy Voucher Program</a>.
      </li>
      <li>General wage floor context: 
        <a href="https://www.dol.gov/agencies/whd/minimum-wage" target="_blank" rel="noopener">U.S. Department of Labor, Minimum Wage</a>.
      </li>
    </ul>
    <p class="tiny mb-0">
      Residence and local ties: we will add a public record source link for residence districts in the next update. Statements about my residence and family are my own.
    </p>
  </div>
</section>

<footer class="py-4 bg-white border-top text-center">
  <div class="container">
    <p class="small text-muted mb-1">© <span id="yr"></span> Adam Neil Arafat for Congress</p>
    <p class="small text-muted mb-1">Paid for by Adam Neil Arafat for Congress</p>
    <p class="small text-muted mb-1">2007 197th St Ct E, Spanaway, WA 98387</p>
    <p class="small text-muted mb-3">Not authorized by any other candidate or candidate’s committee.</p>
  </div>
</footer>

<!-- Sticky donate (mobile) -->
<a class="btn btn-donate sticky-donate" href="https://secure.actblue.com/donate/adam-arafat-1" target="_blank" rel="noopener" aria-label="Quick donate">
  <i class="fa-solid fa-heart"></i>
</a>

<script>
  document.getElementById('yr').textContent = new Date().getFullYear();

  // ---- CSV LOADER for incumbent (Schedule A) ----
  // File path: assets/csv/incumbent_donors_full.csv
  const CSV_URL = 'assets/csv/incumbent_donors_full.csv';

  // Basic, robust CSV parser (no external libs)
  function parseCSV(text) {
    // Handle quoted fields and commas
    const rows = [];
    let row = [], col = '', inQuotes = false;
    for (let i = 0; i < text.length; i++) {
      const ch = text[i], next = text[i+1];
      if (ch === '"' ) {
        if (inQuotes && next === '"') { col += '"'; i++; }
        else { inQuotes = !inQuotes; }
      } else if (ch === ',' && !inQuotes) {
        row.push(col); col = '';
      } else if ((ch === '\n' || ch === '\r') && !inQuotes) {
        if (col.length || row.length) { row.push(col); rows.push(row); row = []; col = ''; }
      } else {
        col += ch;
      }
    }
    if (col.length || row.length) { row.push(col); rows.push(row); }
    return rows;
  }

  function toRecords(rows) {
    if (!rows.length) return [];
    const header = rows[0].map(h => h.trim().toLowerCase());
    return rows.slice(1).map(r => {
      const obj = {};
      header.forEach((h, idx) => obj[h] = (r[idx] || '').trim());
      return obj;
    });
  }

  function pick(obj, keys) {
    for (const k of keys) {
      const found = Object.keys(obj).find(h => h === k || h.endsWith(k));
      if (found && obj[found]) return obj[found];
    }
    return '';
  }

  function dollars(v) {
    const n = +v;
    if (!isFinite(n)) return 0;
    return n;
  }

  function fmtMoney(n) {
    if (!isFinite(n)) return '—';
    return n.toLocaleString(undefined, { style:'currency', currency:'USD', maximumFractionDigits:0 });
  }

  function isInDistrict(zip) {
    if (!zip) return false;
    const z = zip.toString().replace(/[^0-9]/g,'').slice(0,3);
    return z === '984' || z === '985';
  }

  function getState(obj) {
    const s = pick(obj, ['contributor_state','state']);
    return s || '';
  }

  function getZip(obj) {
    return pick(obj, ['contributor_zip','zip']);
  }

  function getAmount(obj) {
    // FEC Schedule A headers commonly: 'contribution_receipt_amount'
    const a = pick(obj, ['contribution_receipt_amount','amount','total']);
    return dollars(a);
  }

  function isCommittee(obj) {
    // Heuristic: entity type or contributor type
    const t = (pick(obj, ['entity_type','contributor_type','committee_type']) || '').toUpperCase();
    // Common codes: IND for individual, COM for committee
    if (t.includes('COM') || t.includes('PAC') || t.includes('PTY')) return true;
    if (t.includes('IND')) return false;
    // Fallback: if contributor_name looks like a committee (optional)
    const name = (pick(obj, ['committee_name','contributor_name']) || '').toUpperCase();
    if (name.includes('PAC') || name.includes('COMMITTEE') || name.includes('ASSOCIATION') || name.includes('FUND')) return true;
    return false;
  }

  async function loadNumbers() {
    try {
      const res = await fetch(CSV_URL, { cache: 'no-store' });
      if (!res.ok) throw new Error('CSV not found');
      const text = await res.text();
      const records = toRecords(parseCSV(text));

      let inSum = 0, outSum = 0;
      let inIndiv = 0, inComm = 0;
      const outStates = new Map();

      for (const r of records) {
        const amt = getAmount(r);
        if (!amt) continue;
        const zip = getZip(r);
        const state = getState(r);
        const committee = isCommittee(r);

        if (isInDistrict(zip)) {
          inSum += amt;
          if (committee) inComm += amt; else inIndiv += amt;
        } else {
          outSum += amt;
          if (state) {
            outStates.set(state, (outStates.get(state) || 0) + amt);
          }
        }
      }

      const total = inSum + outSum;
      const pctOut = total ? Math.round(outSum / total * 100) : 0;
      const pctIn = 100 - pctOut;

      // Update meter
      document.getElementById('splitBar').style.width = pctOut + '%';
      document.getElementById('pctOut').textContent = pctOut + '%';
      
      // In-district breakdown
      document.getElementById('inIndiv').textContent = fmtMoney(inIndiv) + ' from Individuals';
      document.getElementById('inCommittees').textContent = fmtMoney(inComm) + ' from Committees';

      // Top outside states
      const top = [...outStates.entries()].sort((a,b)=>b[1]-a[1]).slice(0,5);
      const ul = document.getElementById('topStates');
      ul.innerHTML = '';
      if (!top.length) {
        ul.innerHTML = '<li>No outside-state entries detected</li>';
      } else {
        top.forEach(([st, val]) => {
          const li = document.createElement('li');
          li.textContent = st + ': ' + fmtMoney(val);
          ul.appendChild(li);
        });
      }
    } catch (e) {
      // Graceful fallback
      document.getElementById('pctOut').textContent = '—';
      document.getElementById('splitBar').style.width = '0%';
      document.getElementById('inIndiv').textContent = '—';
      document.getElementById('inCommittees').textContent = '—';
      const ul = document.getElementById('topStates');
      ul.innerHTML = '<li>CSV not found. Add assets/csv/incumbent_donors_full.csv to enable this chart.</li>';
      console.warn('CSV load error:', e);
    }
  }

  loadNumbers();
</script>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>
</body>
</html>
